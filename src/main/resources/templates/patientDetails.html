<!DOCTYPE html>
<html lang="ja" xmlns:sec="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>患者詳細画面</title>
  <link crossorigin="anonymous"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
        rel="stylesheet">
  <link href="/css/patientDetails.css" rel="stylesheet" type="text/css">
</head>

<body>
<header>
  <div class="header">
    ログイン名：<span sec:authentication="principal.user.name"></span>
  </div>
</header>
<form method="post" th:action="@{/editPatientView}" th:object="${patient}">
  <h1>患者の詳細画面</h1>


  <div class="main">
    <div class="patientInformation">
      <p class="patientName">患者名：<span th:text="*{name}" type="text"></span></p>
    </div>
    <div class="patientInformation">
      <h3>患者情報</h3>
      <p>患者 ID: <span th:text="*{showId}" type="text"></span></p>
      <p>性別: <span></span></p>
    </div>
  </div>

  <h3>患者の検査一覧</h3>
  <table class="inspection_list">
    <tr>
      <th>No.</th>
      <th>検査名</th>
      <th>検査日時</th>
      <th>検査詳細</th>
    </tr>
    <tr>
    <tr th:each="formInspectionOrderDto, no:${formInspectionOrderDtos}">
      <td th:text="${no.count}"></td>
      <td th:text="${formInspectionOrderDto.inspectionName}"></td>
      <td th:text="${formInspectionOrderDto.date}"></td>
      <td class="de" th:text="${formInspectionOrderDto.details}"></td>
      <td><a class="button"
             th:href="@{/orderDetails/{id}(id=${formInspectionOrderDto.orderId})}">詳細</a>
      </td>
    </tr>
  </table>

  <a th:href="@{newOrder(showId=${patient.showId})}">検査をオーダーする</a>


  <div>


  </div>


</form>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</body>
</html>